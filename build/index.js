/**
 * @file Sébastien Robaszkiewicz's personal webpage.
 * @author Sébastien Robaszkiewicz [hello@robi.me]
 */

'use strict';

// Libraries and files
var input = require('motion-input');
var animation = require('./animation');

// Configs
var worldConfig = {
  canvasMargin: 0.1, // relative to max(canvas.width, canvas.height)
  filterTimeConstant: 1.5, // seconds
  fadeinDurationVariance: 2, // seconds
  minDistance: 140, // pixels
  minFadeinDuration: 3, // seconds
  minRadius: 4, // pixels
  radiusVariance: 6, // pixels
  velocityFactor: 7, // pixels per second
  vertexDensity: 3 // arbitrary scale from 1 to 10
};
var gameloopConfig = {
  ctx: animation.ctx,
  buffers: [],
  update: animation.update.bind(animation),
  render: animation.render.bind(animation),
  fps: 60
  // gui: gui.model
};

// Script
(function () {
  document.body.addEventListener('touchmove', function (e) {
    e.preventDefault();
  });

  animation.start(worldConfig, gameloopConfig);

  input.init('orientationAlt').then(function (modules) {
    var orientation = modules[0];

    if (orientation.isValid) {
      input.addListener('orientationAlt', function (val) {
        animation.onOrientation(val[1], val[2]);
      });
    }
  });
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUtBLFlBQVksQ0FBQzs7O0FBR2IsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ3RDLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQzs7O0FBR3pDLElBQU0sV0FBVyxHQUFHO0FBQ2xCLGNBQVksRUFBRSxHQUFHO0FBQ2pCLG9CQUFrQixFQUFFLEdBQUc7QUFDdkIsd0JBQXNCLEVBQUUsQ0FBQztBQUN6QixhQUFXLEVBQUUsR0FBRztBQUNoQixtQkFBaUIsRUFBRSxDQUFDO0FBQ3BCLFdBQVMsRUFBRSxDQUFDO0FBQ1osZ0JBQWMsRUFBRSxDQUFDO0FBQ2pCLGdCQUFjLEVBQUUsQ0FBQztBQUNqQixlQUFhLEVBQUUsQ0FBQztDQUNqQixDQUFDO0FBQ0YsSUFBTSxjQUFjLEdBQUc7QUFDckIsS0FBRyxFQUFFLFNBQVMsQ0FBQyxHQUFHO0FBQ2xCLFNBQU8sRUFBRSxFQUFFO0FBQ1gsUUFBTSxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztBQUN4QyxRQUFNLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO0FBQ3hDLEtBQUcsRUFBRSxFQUFFOztDQUVSLENBQUM7OztBQUdGLEFBQUMsQ0FBQSxZQUFXO0FBQ1YsVUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsVUFBQyxDQUFDLEVBQUs7QUFDakQsS0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO0dBQ3BCLENBQUMsQ0FBQzs7QUFFSCxXQUFTLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsQ0FBQzs7QUFFN0MsT0FBSyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUN6QixJQUFJLENBQUMsVUFBQyxPQUFPLEVBQUs7QUFDakIsUUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUUvQixRQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUU7QUFDdkIsV0FBSyxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxVQUFDLEdBQUcsRUFBSztBQUMzQyxpQkFBUyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7T0FDekMsQ0FBQyxDQUFDO0tBQ0o7R0FDRixDQUFDLENBQUM7Q0FDTixDQUFBLEVBQUUsQ0FBRSIsImZpbGUiOiJzcmMvanMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlIFPDqWJhc3RpZW4gUm9iYXN6a2lld2ljeidzIHBlcnNvbmFsIHdlYnBhZ2UuXG4gKiBAYXV0aG9yIFPDqWJhc3RpZW4gUm9iYXN6a2lld2ljeiBbaGVsbG9Acm9iaS5tZV1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8vIExpYnJhcmllcyBhbmQgZmlsZXNcbmNvbnN0IGlucHV0ID0gcmVxdWlyZSgnbW90aW9uLWlucHV0Jyk7XG5jb25zdCBhbmltYXRpb24gPSByZXF1aXJlKCcuL2FuaW1hdGlvbicpO1xuXG4vLyBDb25maWdzXG5jb25zdCB3b3JsZENvbmZpZyA9IHtcbiAgY2FudmFzTWFyZ2luOiAwLjEsIC8vIHJlbGF0aXZlIHRvIG1heChjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpXG4gIGZpbHRlclRpbWVDb25zdGFudDogMS41LCAvLyBzZWNvbmRzXG4gIGZhZGVpbkR1cmF0aW9uVmFyaWFuY2U6IDIsIC8vIHNlY29uZHNcbiAgbWluRGlzdGFuY2U6IDE0MCwgLy8gcGl4ZWxzXG4gIG1pbkZhZGVpbkR1cmF0aW9uOiAzLCAvLyBzZWNvbmRzXG4gIG1pblJhZGl1czogNCwgLy8gcGl4ZWxzXG4gIHJhZGl1c1ZhcmlhbmNlOiA2LCAvLyBwaXhlbHNcbiAgdmVsb2NpdHlGYWN0b3I6IDcsIC8vIHBpeGVscyBwZXIgc2Vjb25kXG4gIHZlcnRleERlbnNpdHk6IDMgLy8gYXJiaXRyYXJ5IHNjYWxlIGZyb20gMSB0byAxMFxufTtcbmNvbnN0IGdhbWVsb29wQ29uZmlnID0ge1xuICBjdHg6IGFuaW1hdGlvbi5jdHgsXG4gIGJ1ZmZlcnM6IFtdLFxuICB1cGRhdGU6IGFuaW1hdGlvbi51cGRhdGUuYmluZChhbmltYXRpb24pLFxuICByZW5kZXI6IGFuaW1hdGlvbi5yZW5kZXIuYmluZChhbmltYXRpb24pLFxuICBmcHM6IDYwXG4gIC8vIGd1aTogZ3VpLm1vZGVsXG59O1xuXG4vLyBTY3JpcHRcbihmdW5jdGlvbigpIHtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSk7XG5cbiAgYW5pbWF0aW9uLnN0YXJ0KHdvcmxkQ29uZmlnLCBnYW1lbG9vcENvbmZpZyk7XG5cbiAgaW5wdXQuaW5pdCgnb3JpZW50YXRpb25BbHQnKVxuICAgIC50aGVuKChtb2R1bGVzKSA9PiB7XG4gICAgICBjb25zdCBvcmllbnRhdGlvbiA9IG1vZHVsZXNbMF07XG5cbiAgICAgIGlmIChvcmllbnRhdGlvbi5pc1ZhbGlkKSB7XG4gICAgICAgIGlucHV0LmFkZExpc3RlbmVyKCdvcmllbnRhdGlvbkFsdCcsICh2YWwpID0+IHtcbiAgICAgICAgICBhbmltYXRpb24ub25PcmllbnRhdGlvbih2YWxbMV0sIHZhbFsyXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xufSgpKTtcbiJdfQ==